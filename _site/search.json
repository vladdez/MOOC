[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Hello!\nhere you can find analyses of navigational data of 58 Coursera courses. We aimed to find out relationship between study achievments and forum visits."
  },
  {
    "objectID": "hypothesis1.html#hypothesis-1",
    "href": "hypothesis1.html#hypothesis-1",
    "title": "Hypothesis",
    "section": "Hypothesis 1",
    "text": "Hypothesis 1\nMore: file 6.\n\nModel 1\n\n\nShow the code\n# m10 <- glm(data = assignments, factor(first_attempt) ~ 1, family = \"binomial\")\n# saveRDS(m10, \"data/m10.rds\")\n# \n\n\n\n\nShow the code\nsystem('7z x data/m10.zip -odata/.')\n\n\n[1] 0\n\n\nShow the code\nm10 <- readRDS( \"data/m10.rds\")\nsummary(m10)\n\n\n\nCall:\nglm(formula = factor(first_attempt) ~ 1, family = \"binomial\", \n    data = assignments)\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.5064  -1.5064   0.8808   0.8808   0.8808  \n\nCoefficients:\n            Estimate Std. Error z value Pr(>|z|)    \n(Intercept) 0.746768   0.001909   391.3   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 1580574  on 1258389  degrees of freedom\nResidual deviance: 1580574  on 1258389  degrees of freedom\nAIC: 1580576\n\nNumber of Fisher Scoring iterations: 4\n\n\n\n\nShow the code\n#m1 <- glmer(data = assignments, factor(first_attempt) ~ 1 + (1|hse_user_id) + (1|course_item_name), family = \"binomial\")\n# saveRDS(m1, \"data/m1.rds\")\n# \n\n\n\n\nShow the code\nsystem('7z x data/m1.zip -odata/.')\n\n\n[1] 0\n\n\nShow the code\nm1 <- readRDS( \"data/m1.rds\")\nsummary(m1)\n\n\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: factor(first_attempt) ~ 1 + (1 | hse_user_id) + (1 | course_item_name)\n   Data: assignments\n\n      AIC       BIC    logLik  deviance  df.resid \n1367971.5 1368007.6 -683982.7 1367965.5   1258387 \n\nScaled residuals: \n     Min       1Q   Median       3Q      Max \n-14.0776  -0.7882   0.3922   0.6316  13.7935 \n\nRandom effects:\n Groups           Name        Variance Std.Dev.\n hse_user_id      (Intercept) 0.6372   0.7982  \n course_item_name (Intercept) 1.1000   1.0488  \nNumber of obs: 1258390, groups:  hse_user_id, 40188; course_item_name, 669\n\nFixed effects:\n            Estimate Std. Error z value Pr(>|z|)    \n(Intercept)  0.85735    0.03983   21.53   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n\nShow the code\nsd_proficieny <- data.frame(VarCorr(m1))[5][1, 1]\nsd_difficulty <- data.frame(VarCorr(m1))[5][2, 1]\ncoef <- summary(m1)$coef[1] # intercept of m0\n\n\n\n\nStudent standart deviation(proficiency) - 0.80.\n\n\nAssignment standart deviation (difficulty) - 1.05.\n\n\n\n\nShow the code\nc_proficieny <- c(round(invlogit(coef - sd_proficieny), digits = 2), round(invlogit(coef + sd_proficieny), digits = 2))\nc_difficulty <- c(round(invlogit(coef - sd_proficieny - sd_difficulty), digits = 2), round(invlogit(coef - sd_proficieny + sd_difficulty), digits = 2))\n\n\n\n\nCorrectness of first assignemnt (CFA) or Probability to pass an average by average student assignment with the first attempt  - 0.70, beta - 0.86.\n\n\n-sd 0.51 and +sd 0.84 for student proficiency.\n\n\n-sd 0.27 and +sd 0.75 for assignemtn difficulty.\n\n\n\n\nShow the code\nll1 <- logLik(m10)*-2\nll2 <- logLik(m1)*-2\nchi <- ll1[1] - ll2[1]\ndf <- 3-1\n\nchi\n\n\n[1] 212608.4\n\n\nShow the code\ndf\n\n\n[1] 2\n\n\nShow the code\n# the results are significant if qchisq greater than chi \nqchisq(p=.0001, df=df, lower.tail=FALSE)\n\n\n[1] 18.42068\n\n\n\n\nShow the code\nassignments  %>% filter(vis_before_attempt_tw < 1000) %>%   ggplot(aes(x = vis_before_attempt_tw, y = first_attempt, color = course_item_type_desc)) +\n  geom_point()   +  \n\n  geom_smooth(method = \"glm\", method.args=list(family=\"binomial\")) +   \n  ggtitle(\"Probability to pass the test from the first attempt\\nand forum visits during first attempt\") +\n  labs(x = \"Forum visists during first attempt\", y = \"Probability to pass test during first attempt\", color = \"Assignment type\") +\n  theme_bw() +  \n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nShow the code\nanova(m10, m1)\n\n\nAnalysis of Deviance Table\n\nModel: binomial, link: logit\n\nResponse: factor(first_attempt)\n\nTerms added sequentially (first to last)\n\n     Df Deviance Resid. Df Resid. Dev\nNULL               1258389    1580574\n\n\n\n\nModel 2\n\n\nShow the code\n#m2 <- glmer(data = assignments, factor(first_attempt) ~ 1 + vis_before_attempt_tw_b  + (1|hse_user_id) + (1|course_item_name), family = \"binomial\")\n#saveRDS(m2, \"data/m2.rds\")\n\n\n\n\nShow the code\nsystem('7z x data/m2.zip -odata/.')\n\n\n[1] 0\n\n\nShow the code\nm2 <- readRDS(\"data/m2.rds\")\nsummary(m2)\n\n\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: \nfactor(first_attempt) ~ 1 + vis_before_attempt_tw_b + (1 | hse_user_id) +  \n    (1 | course_item_name)\n   Data: assignments\n\n      AIC       BIC    logLik  deviance  df.resid \n1367854.9 1367903.1 -683923.4 1367846.9   1258386 \n\nScaled residuals: \n     Min       1Q   Median       3Q      Max \n-13.9826  -0.7876   0.3923   0.6316  13.6277 \n\nRandom effects:\n Groups           Name        Variance Std.Dev.\n hse_user_id      (Intercept) 0.6328   0.7955  \n course_item_name (Intercept) 1.0895   1.0438  \nNumber of obs: 1258390, groups:  hse_user_id, 40188; course_item_name, 669\n\nFixed effects:\n                          Estimate Std. Error z value Pr(>|z|)    \n(Intercept)               0.867672   0.039311   22.07   <2e-16 ***\nvis_before_attempt_tw_b1 -0.071917   0.006578  -10.93   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n            (Intr)\nvs_bfr_t__1 -0.021\n\n\nShow the code\nm20 <- summary(m2)\n\n\n\n\nProbability of CFA if a student didn't visit a forum before 0.70.\n\n\nProbability of CFA if a student visited a forum at least once - 0.69\n\n\n\nVisualisation\n\n\nShow the code\n# cbind(c(\"yes\", \"no\"), c(0.70, 0.69)) %>% ggplot(aes(x = assignments$vis_before_attempt_tw_b, y=c(0.70, 0.69))) +\n#   geom_bar(stat='identity', width = 0.6, position = position_dodge(0.7)) #+    \n#   ggtitle(\"Probability of CFA\") +\n#   scale_fill_discrete(labels=c(\"Passed\", \"Not passed\")) +\n#   labs(x = \"Forum visited or not\", y = \"Probability of CFA\", fill = \"First attempt\") +\n#   theme_bw() +  \n#   theme(plot.title = element_text(hjust = 0.5))\n# \n\n\n\n\nShow the code\nassignments  %>%  ggplot(., aes(factor(vis_before_attempt_tw_b), fill = factor(first_attempt))) +\n  geom_bar(position = \"dodge2\") +\n  labs(x = \"Forum visited or not\", fill = \"First attempt\") + theme_classic() +  \n  scale_fill_discrete(labels=c(\"Not passed\", \"Passed\")) +\n  theme(plot.title = element_text(hjust = 0.5))"
  },
  {
    "objectID": "hypothesis2.html#hypothesis-2",
    "href": "hypothesis2.html#hypothesis-2",
    "title": "Hypothesis",
    "section": "Hypothesis 2",
    "text": "Hypothesis 2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nm5 <- glm(vis_b ~ difficulty, family = \"binomial\", assignments)\nsummary(m5)\n\n\n\nCall:\nglm(formula = vis_b ~ difficulty, family = \"binomial\", data = assignments)\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.7210  -0.7475  -0.5927  -0.4626   2.2438  \n\nCoefficients:\n             Estimate Std. Error z value Pr(>|z|)    \n(Intercept) -2.433167   0.005315  -457.8   <2e-16 ***\ndifficulty   3.673590   0.013303   276.1   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 1379456  on 1258389  degrees of freedom\nResidual deviance: 1298091  on 1258388  degrees of freedom\nAIC: 1298095\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\nm50 <- summary(m5)\ncat(sprintf(\"Every additional difficulty point increase probability of attendance by  %.4f.\\n\", invlogit(m50$coefficients[2])))\n\n\nEvery additional difficulty point increase probability of attendance by  0.9752.\n\n\nShow the code\ncat(sprintf(\"Every additional difficulty point increase odds of attendance by %.2f.\\n\", exp(m50$coefficients[2])))\n\n\nEvery additional difficulty point increase odds of attendance by 39.39.\n\n\n\nCombination\nWhat if for moderation analyses I take just difficulty as moderator?"
  },
  {
    "objectID": "hypothesis2.html#mediation-analyses",
    "href": "hypothesis2.html#mediation-analyses",
    "title": "Hypothesis",
    "section": "Mediation analyses",
    "text": "Mediation analyses\n\ndiffculty\n\n\nShow the code\ntw1 <- assignments %>% group_by(hse_user_id) %>% summarise(difficulty = median(difficulty), vis_before_attempt_tw_b = median(as.numeric(vis_before_attempt_tw_b) - 1), \n                                                  first_attempt = median(first_attempt)) \ntw2 <- assignments %>% group_by(course_item_name) %>% summarise(difficulty = median(difficulty), vis_before_attempt_tw_b = median(as.numeric(vis_before_attempt_tw_b) - 1), \n                                                  first_attempt = median(first_attempt)) \n\n\n\n\nShow the code\n# Step 1: X ~ Y\nfit.totaleffect <- glm(data = data.table(tw1), first_attempt ~ 1 + vis_before_attempt_tw_b , family = \"binomial\") \nsummary(fit.totaleffect)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + vis_before_attempt_tw_b, family = \"binomial\", \n    data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.8345   0.6413   0.6413   0.6413   0.8384  \n\nCoefficients:\n                        Estimate Std. Error z value Pr(>|z|)    \n(Intercept)              1.47706    0.01312  112.54   <2e-16 ***\nvis_before_attempt_tw_b -0.61233    0.05521  -11.09   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 35760  on 40187  degrees of freedom\nResidual deviance: 35647  on 40186  degrees of freedom\nAIC: 42591\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\n# there is an effect\n\n# Step 2: M ~ Y\nfit.mediator = glm(data = data.table(tw1), vis_before_attempt_tw_b ~ 1 + difficulty , family = \"binomial\") \n#saveRDS(fit.mediator, \"data/fit_mediator.rds\")\n#fit.mediator <- readRDS(\"data/fit_mediator.rds\")\nsummary(fit.mediator)\n\n\n\nCall:\nglm(formula = vis_before_attempt_tw_b ~ 1 + difficulty, family = \"binomial\", \n    data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.5678  -0.3216  -0.2861  -0.1996   3.2546  \n\nCoefficients:\n            Estimate Std. Error z value Pr(>|z|)    \n(Intercept) -5.29119    0.09811  -53.93   <2e-16 ***\ndifficulty   6.80786    0.27086   25.13   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 14039  on 40187  degrees of freedom\nResidual deviance: 13349  on 40186  degrees of freedom\nAIC: 12984\n\nNumber of Fisher Scoring iterations: 6\n\n\nShow the code\n# there is an effect\n\n# Step 3: X + M ~ Y\nfit.dv = glm(data = data.table(tw1), first_attempt ~ 1 + vis_before_attempt_tw_b + difficulty, family = \"binomial\")\n#saveRDS(fit.dv, \"data/fit_dv.rds\")\n#fit.dv <- readRDS(\"data/fit_dv.rds\")\nsummary(fit.dv)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + vis_before_attempt_tw_b + difficulty, \n    family = \"binomial\", data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-2.6184   0.2572   0.5364   0.6675   2.7895  \n\nCoefficients:\n                        Estimate Std. Error z value Pr(>|z|)    \n(Intercept)              4.23838    0.05662   74.86  < 2e-16 ***\nvis_before_attempt_tw_b -0.21437    0.05794   -3.70 0.000216 ***\ndifficulty              -8.70460    0.16268  -53.51  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 35760  on 40187  degrees of freedom\nResidual deviance: 32095  on 40185  degrees of freedom\nAIC: 38202\n\nNumber of Fisher Scoring iterations: 5\n\n\nShow the code\n# there is an effect, but mediation is incomplete\n\n# Step 4: Run the mediation analysis\n\nresults_m1 = mediate(fit.mediator, fit.dv, treat='difficulty', mediator='vis_before_attempt_tw_b')\n#saveRDS(results_m1, \"data/results_m1.rds\")\n# Step 5: View the mediation results\nsummary(results_m1)\n\n\n\nCausal Mediation Analysis \n\nQuasi-Bayesian Confidence Intervals\n\n                          Estimate 95% CI Lower 95% CI Upper p-value    \nACME (control)           -0.002772    -0.004456         0.00  <2e-16 ***\nACME (treated)           -0.001781    -0.002738         0.00  <2e-16 ***\nADE (control)            -0.974367    -0.977974        -0.97  <2e-16 ***\nADE (treated)            -0.973376    -0.977240        -0.97  <2e-16 ***\nTotal Effect             -0.976148    -0.979411        -0.97  <2e-16 ***\nProp. Mediated (control)  0.002843     0.001148         0.00  <2e-16 ***\nProp. Mediated (treated)  0.001817     0.000826         0.00  <2e-16 ***\nACME (average)           -0.002276    -0.003573         0.00  <2e-16 ***\nADE (average)            -0.973871    -0.977593        -0.97  <2e-16 ***\nProp. Mediated (average)  0.002330     0.000980         0.00  <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nSample Size Used: 40188 \n\n\nSimulations: 1000 \n\n\n\n\nShow the code\n# Step 1: X ~ Y\nfit.totaleffect <- glm(data = data.table(tw2), first_attempt ~ 1 + vis_before_attempt_tw_b , family = \"binomial\") \nsummary(fit.totaleffect)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + vis_before_attempt_tw_b, family = \"binomial\", \n    data = data.table(tw2))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.9306   0.5806   0.5806   0.5806   1.4318  \n\nCoefficients:\n                        Estimate Std. Error z value Pr(>|z|)    \n(Intercept)               1.6951     0.1093  15.515  < 2e-16 ***\nvis_before_attempt_tw_b  -2.2757     0.4046  -5.624 1.86e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 620.55  on 668  degrees of freedom\nResidual deviance: 588.25  on 667  degrees of freedom\nAIC: 598.41\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\n# there is an effect\n\n# Step 2: M ~ Y\nfit.mediator = glm(data = data.table(tw2), vis_before_attempt_tw_b ~ 1 + difficulty , family = \"binomial\") \nsaveRDS(fit.mediator, \"data/fit_mediator.rds\")\n#fit.mediator <- readRDS(\"data/fit_mediator.rds\")\nsummary(fit.mediator)\n\n\n\nCall:\nglm(formula = vis_before_attempt_tw_b ~ 1 + difficulty, family = \"binomial\", \n    data = data.table(tw2))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.0507  -0.2964  -0.2254  -0.1790   3.0611  \n\nCoefficients:\n            Estimate Std. Error z value Pr(>|z|)    \n(Intercept)  -5.0351     0.4832 -10.421  < 2e-16 ***\ndifficulty    4.7521     0.9003   5.279  1.3e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 237.68  on 668  degrees of freedom\nResidual deviance: 210.51  on 667  degrees of freedom\nAIC: 212.69\n\nNumber of Fisher Scoring iterations: 6\n\n\nShow the code\n# there is an effect\n\n# Step 3: X + M ~ Y\nfit.dv = glm(data = data.table(tw2), first_attempt ~ 1 + vis_before_attempt_tw_b + difficulty, family = \"binomial\")\n#saveRDS(fit.dv, \"data/fit_dv.rds\")\n#fit.dv <- readRDS(\"data/fit_dv.rds\")\nsummary(fit.dv)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + vis_before_attempt_tw_b + difficulty, \n    family = \"binomial\", data = data.table(tw2))\n\nDeviance Residuals: \n   Min      1Q  Median      3Q     Max  \n-1.232   0.000   0.000   0.000   3.534  \n\nCoefficients:\n                        Estimate Std. Error z value Pr(>|z|)    \n(Intercept)               77.279     20.845   3.707 0.000209 ***\nvis_before_attempt_tw_b    1.445      3.009   0.480 0.631097    \ndifficulty              -153.751     41.424  -3.712 0.000206 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 620.553  on 668  degrees of freedom\nResidual deviance:  23.693  on 666  degrees of freedom\nAIC: 33.272\n\nNumber of Fisher Scoring iterations: 12\n\n\nShow the code\n# there is an effect, but mediation is incomplete\n\n# Step 4: Run the mediation analysis\n\nresults_m2 = mediate(fit.mediator, fit.dv, treat='difficulty', mediator='vis_before_attempt_tw_b')\n#saveRDS(results_m1, \"data/results_m1.rds\")\n# Step 5: View the mediation results\nsummary(results_m2)\n\n\n\nCausal Mediation Analysis \n\nQuasi-Bayesian Confidence Intervals\n\n                          Estimate 95% CI Lower 95% CI Upper p-value    \nACME (control)           -2.07e-11     0.00e+00            0   0.014 *  \nACME (treated)            2.56e-11     0.00e+00            0   0.008 ** \nADE (control)            -1.00e+00    -1.00e+00           -1  <2e-16 ***\nADE (treated)            -1.00e+00    -1.00e+00           -1  <2e-16 ***\nTotal Effect             -1.00e+00    -1.00e+00           -1  <2e-16 ***\nProp. Mediated (control)  0.00e+00     0.00e+00            0   1.000    \nProp. Mediated (treated)  0.00e+00     0.00e+00            0   1.000    \nACME (average)            2.45e-12     0.00e+00            0   0.014 *  \nADE (average)            -1.00e+00    -1.00e+00           -1  <2e-16 ***\nProp. Mediated (average)  0.00e+00     0.00e+00            0   1.000    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nSample Size Used: 669 \n\n\nSimulations: 1000 \n\n\n\n\nShow the code\ncat(sprintf(\"Average causal mediation effect (indirect effect) is %.5f.\\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\\n\\n\", summary(results_m1)$d0))\n\n\nAverage causal mediation effect (indirect effect) is -0.00277.\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\n\n\nShow the code\ncat(sprintf(\"Average direct effect is %.4f.\\n\\n\",  summary(results_m1)$z0))\n\n\nAverage direct effect is -0.9744.\n\n\nShow the code\ncat(sprintf(\"Total effect is %.4f.\\n\\n\", summary(results_m1)$tau.coef))\n\n\nTotal effect is -0.9761.\n\n\n\n\nShow the code\ncat(sprintf(\"Average causal mediation effect (indirect effect) is %.5f.\\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\\n\\n\", summary(results_m2)$d0))\n\n\nAverage causal mediation effect (indirect effect) is -0.00000.\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\n\n\nShow the code\ncat(sprintf(\"Average direct effect is %.4f.\\n\\n\",  summary(results_m2)$z0))\n\n\nAverage direct effect is -1.0000.\n\n\nShow the code\ncat(sprintf(\"Total effect is %.4f.\\n\\n\", summary(results_m2)$tau.coef))\n\n\nTotal effect is -1.0000.\n\n\n\n\ntype\n\n\nShow the code\ntw1 <- assignments %>% group_by(hse_user_id) %>% summarise(course_item_type_id = median(as.numeric(course_item_type_id) - 1), vis_before_attempt_tw_b = median(as.numeric(vis_before_attempt_tw_b) - 1), first_attempt = median(first_attempt)) \n\ntw2 <- assignments %>% group_by(course_item_name) %>% summarise(course_item_type_id = median(as.numeric(course_item_type_id) - 1), vis_before_attempt_tw_b = median(as.numeric(vis_before_attempt_tw_b) - 1), first_attempt = median(first_attempt)) \n\n\n\n\nShow the code\n# Step 1: X ~ Y\nfit.totaleffect <- glm(data = data.table(tw1), first_attempt ~ 1 + course_item_type_id , family = \"binomial\") \nsummary(fit.totaleffect)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + course_item_type_id, family = \"binomial\", \n    data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.8338   0.6418   0.6418   0.6418   0.6796  \n\nCoefficients:\n                    Estimate Std. Error z value Pr(>|z|)    \n(Intercept)          1.47549    0.01461 100.971  < 2e-16 ***\ncourse_item_type_id -0.12764    0.03000  -4.255 2.09e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 35760  on 40187  degrees of freedom\nResidual deviance: 35743  on 40186  degrees of freedom\nAIC: 42724\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\n# there is an effect\n\n# Step 2: M ~ Y\nfit.mediator = glm(data = data.table(tw1), vis_before_attempt_tw_b ~ 1 + course_item_type_id , family = \"binomial\") \nsummary(fit.mediator)\n\n\n\nCall:\nglm(formula = vis_before_attempt_tw_b ~ 1 + course_item_type_id, \n    family = \"binomial\", data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-0.5000  -0.2131  -0.2131  -0.2131   2.7555  \n\nCoefficients:\n                    Estimate Std. Error z value Pr(>|z|)    \n(Intercept)         -3.77355    0.03828  -98.58   <2e-16 ***\ncourse_item_type_id  1.75708    0.05068   34.67   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 14039  on 40187  degrees of freedom\nResidual deviance: 12834  on 40186  degrees of freedom\nAIC: 12301\n\nNumber of Fisher Scoring iterations: 6\n\n\nShow the code\n# there is an effect\n\n# Step 3: X + M ~ Y\nfit.dv = glm(data = data.table(tw1), first_attempt ~ 1 + vis_before_attempt_tw_b + course_item_type_id, family = \"binomial\")\nsummary(fit.dv)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + vis_before_attempt_tw_b + course_item_type_id, \n    family = \"binomial\", data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.8406   0.6373   0.6373   0.6373   0.8471  \n\nCoefficients:\n                        Estimate Std. Error z value Pr(>|z|)    \n(Intercept)              1.49075    0.01472 101.272   <2e-16 ***\nvis_before_attempt_tw_b -0.58609    0.05663 -10.349   <2e-16 ***\ncourse_item_type_id     -0.06436    0.03086  -2.086    0.037 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 35760  on 40187  degrees of freedom\nResidual deviance: 35643  on 40185  degrees of freedom\nAIC: 42606\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\n# there is an effect, but mediation is incomplete\n\n# Step 4: Run the mediation analysis\n\nresults_m1 = mediate(fit.mediator, fit.dv, treat='course_item_type_id', mediator='vis_before_attempt_tw_b')\nsummary(results_m1)\n\n\n\nCausal Mediation Analysis \n\nQuasi-Bayesian Confidence Intervals\n\n                         Estimate 95% CI Lower 95% CI Upper p-value    \nACME (control)           -0.01001     -0.01247        -0.01  <2e-16 ***\nACME (treated)           -0.01033     -0.01287        -0.01  <2e-16 ***\nADE (control)            -0.00968     -0.01878         0.00   0.048 *  \nADE (treated)            -0.01001     -0.01940         0.00   0.048 *  \nTotal Effect             -0.02001     -0.02974        -0.01  <2e-16 ***\nProp. Mediated (control)  0.49432      0.31986         0.96  <2e-16 ***\nProp. Mediated (treated)  0.51034      0.33902         0.96  <2e-16 ***\nACME (average)           -0.01017     -0.01268        -0.01  <2e-16 ***\nADE (average)            -0.00984     -0.01907         0.00   0.048 *  \nProp. Mediated (average)  0.50233      0.32925         0.96  <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nSample Size Used: 40188 \n\n\nSimulations: 1000 \n\n\n\n\nShow the code\n# Step 1: X ~ Y\nfit.totaleffect <- glm(data = data.table(tw1), first_attempt ~ 1 + course_item_type_id , family = \"binomial\") \nsummary(fit.totaleffect)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + course_item_type_id, family = \"binomial\", \n    data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.8338   0.6418   0.6418   0.6418   0.6796  \n\nCoefficients:\n                    Estimate Std. Error z value Pr(>|z|)    \n(Intercept)          1.47549    0.01461 100.971  < 2e-16 ***\ncourse_item_type_id -0.12764    0.03000  -4.255 2.09e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 35760  on 40187  degrees of freedom\nResidual deviance: 35743  on 40186  degrees of freedom\nAIC: 42724\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\n# there is an effect\n\n# Step 2: M ~ Y\nfit.mediator = glm(data = data.table(tw1), vis_before_attempt_tw_b ~ 1 + course_item_type_id , family = \"binomial\") \nsummary(fit.mediator)\n\n\n\nCall:\nglm(formula = vis_before_attempt_tw_b ~ 1 + course_item_type_id, \n    family = \"binomial\", data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-0.5000  -0.2131  -0.2131  -0.2131   2.7555  \n\nCoefficients:\n                    Estimate Std. Error z value Pr(>|z|)    \n(Intercept)         -3.77355    0.03828  -98.58   <2e-16 ***\ncourse_item_type_id  1.75708    0.05068   34.67   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 14039  on 40187  degrees of freedom\nResidual deviance: 12834  on 40186  degrees of freedom\nAIC: 12301\n\nNumber of Fisher Scoring iterations: 6\n\n\nShow the code\n# there is an effect\n\n# Step 3: X + M ~ Y\nfit.dv = glm(data = data.table(tw1), first_attempt ~ 1 + vis_before_attempt_tw_b + course_item_type_id, family = \"binomial\")\nsummary(fit.dv)\n\n\n\nCall:\nglm(formula = first_attempt ~ 1 + vis_before_attempt_tw_b + course_item_type_id, \n    family = \"binomial\", data = data.table(tw1))\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-1.8406   0.6373   0.6373   0.6373   0.8471  \n\nCoefficients:\n                        Estimate Std. Error z value Pr(>|z|)    \n(Intercept)              1.49075    0.01472 101.272   <2e-16 ***\nvis_before_attempt_tw_b -0.58609    0.05663 -10.349   <2e-16 ***\ncourse_item_type_id     -0.06436    0.03086  -2.086    0.037 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 35760  on 40187  degrees of freedom\nResidual deviance: 35643  on 40185  degrees of freedom\nAIC: 42606\n\nNumber of Fisher Scoring iterations: 4\n\n\nShow the code\n# there is an effect, but mediation is incomplete\n\n# Step 4: Run the mediation analysis\n\nresults_m2 = mediate(fit.mediator, fit.dv, treat='course_item_type_id', mediator='vis_before_attempt_tw_b')\nsummary(results_m2)\n\n\n\nCausal Mediation Analysis \n\nQuasi-Bayesian Confidence Intervals\n\n                         Estimate 95% CI Lower 95% CI Upper p-value    \nACME (control)           -0.00992     -0.01225        -0.01  <2e-16 ***\nACME (treated)           -0.01025     -0.01260        -0.01  <2e-16 ***\nADE (control)            -0.00989     -0.01942         0.00   0.032 *  \nADE (treated)            -0.01022     -0.02004         0.00   0.032 *  \nTotal Effect             -0.02013     -0.03000        -0.01  <2e-16 ***\nProp. Mediated (control)  0.49523      0.30868         0.95  <2e-16 ***\nProp. Mediated (treated)  0.51177      0.32917         0.95  <2e-16 ***\nACME (average)           -0.01008     -0.01238        -0.01  <2e-16 ***\nADE (average)            -0.01005     -0.01974         0.00   0.032 *  \nProp. Mediated (average)  0.50350      0.31893         0.95  <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nSample Size Used: 40188 \n\n\nSimulations: 1000 \n\n\n\n\nShow the code\ncat(sprintf(\"Average causal mediation effect (indirect effect) of forum attendance course type is %.5f.\\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\\n\\n\", summary(results_m1)$d0))\n\n\nAverage causal mediation effect (indirect effect) of forum attendance course type is -0.01001.\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\n\n\nShow the code\ncat(sprintf(\"Average direct effect of course type is %.4f.\\n\\n\",  summary(results_m1)$z0))\n\n\nAverage direct effect of course type is -0.0097.\n\n\nShow the code\ncat(sprintf(\"Total effect is %.4f.\\n\\n\", summary(results_m1)$tau.coef))\n\n\nTotal effect is -0.0200.\n\n\n\n\nShow the code\ncat(sprintf(\"Average causal mediation effect (indirect effect) of forum attendance is %.5f.\\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\\n\\n\", summary(results_m2)$d0))\n\n\nAverage causal mediation effect (indirect effect) of forum attendance is -0.00992.\nThis is the indirect effect of the IV (item difficulty) on the DV (CFA) that goes through the mediator (forum attendance).\n\n\nShow the code\ncat(sprintf(\"Average direct effect of course type is %.4f.\\n\\n\",  summary(results_m2)$z0))\n\n\nAverage direct effect of course type is -0.0099.\n\n\nShow the code\ncat(sprintf(\"Total effect is %.4f.\\n\\n\", summary(results_m2)$tau.coef))\n\n\nTotal effect is -0.0201.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nhttps://towardsdatascience.com/doing-and-reporting-your-first-mediation-analysis-in-r-2fe423b92171"
  },
  {
    "objectID": "plots.html",
    "href": "plots.html",
    "title": "Plots",
    "section": "",
    "text": "1.0431\n\n\nShow the code\nwindowsFonts(`Segoe UI` = windowsFont('Segoe UI'))\nh1 <- data.frame(vis_before_attempt_tw_b=c(\"No attendance\",\"Attendance\",\"Attendance\",\"No attendance\"), course_item_type_desc = c(\"quiz\",\"programming\",\"quiz\",\"programming\"),\n                     results = c(0.7199075, 0.6692041, 0.6863616, 0.6823420)) %>% mutate( \n                 sdsl = invlogit(results - 0.6324), # variance by students lower\n                 sdsh = invlogit(results + 0.6324), # ans higher\n                 sdcl = invlogit(results - 1.0431), # variance by courses lower\n                 sdch = invlogit(results + 1.0431) # ans higher\n                 )\ncolours = c(\"#f9a65a\", \"#599ad3\")\n\nggplot(h1, aes(x = course_item_type_desc, y = results, fill = vis_before_attempt_tw_b)) + \n  geom_col(stat='identity', width = 0.6, position = position_dodge(0.7)) +\n  geom_text(aes(label=round(results, digits =2)), vjust = -0.7, position=position_dodge(width=0.4)) +\n  geom_errorbar(aes(ymin=sdsl, ymax=sdsh), width=.2,\n                 position=position_dodge(.8), color = 'red') + \n  geom_errorbar(aes(ymin=sdcl, ymax=sdch), width=.2,\n                 position=position_dodge(1.1), color = 'blue') + \n  geom_line(aes(x=course_item_type_desc, y=0, color='accross courses'))+\n  geom_line(aes(x=course_item_type_desc, y=0, color='accross students'))+\n    scale_fill_manual(values=colours) +\n  labs(x = \"Type of an assignment\", y = \"Probability of Correctness on First Attempt\", \n       fill=\"Forum attendance\\nduring first attempt\", color = 'Variance')+ \n    scale_y_continuous(breaks = seq(0, 1, len = 5), limits = c(0, 1)) + theme_classic() + \n    theme(\n  axis.title.x = element_text(size=10),\n  axis.title.y = element_text(size=10), \n  text=element_text(family=\"Segoe UI\")\n       ) +\n    guides(colour = guide_legend(order = 2), \n              fill = guide_legend(order = 1)) +\n  scale_color_manual(values=c(\"red\",\"blue\")) \n\n\n\n\n\nShow the code\n# colors, fonts"
  }
]